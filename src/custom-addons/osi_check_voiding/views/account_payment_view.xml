<odoo>
    <record model="ir.ui.view" id="account_payment_inherit_form_void">
        <field name="name">account_payment_void_payment</field>
        <field name="model">account.payment</field>
        <field name="inherit_id" ref="account.view_account_payment_form"/>
        <field name="arch" type="xml">
            <button name="cancel" position="replace">
                <button name="cancel" attrs="{'invisible': [('state', 'in', ['draft','cancelled'])]}" string="Void" type="object"/>
            </button>
            <button name="action_draft" position="replace">
                <button name="action_draft" class="oe_highlight" string="Set To Draft" type="object" attrs="{'invisible':['|',('restrict_for_void','=',True),('state','!=','cancelled')]}"/>
            </button>
            <field name="payment_transaction_id" position="after">
                <field name="restrict_for_void" readonly="1"/>
                <field name="reason" readonly="1" attrs="{'invisible':[('restrict_for_void','=',False)]}"/>
            </field>
        </field>
    </record>
    <record model="ir.ui.view" id="account_payment_inherit_list_void">
        <field name="name">account_payment_void_payment_list</field>
        <field name="model">account.payment</field>
        <field name="inherit_id" ref="account.view_account_supplier_payment_tree"/>
        <field name="arch" type="xml">
            <field name="state" position="before">
                <field name="restrict_for_void"/>
            </field>
        </field>
    </record>
</odoo>
